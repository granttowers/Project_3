<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Home</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="static/css/style.css">
</head>

<body>

  <!-- Header -->
  <header role="banner">
    <nav class="navbar navbar-expand-lg navbar-custom" id="box1">
      <a id="Machine" href="/">2020 US Mining Injury Data</a>

      <div class="container">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample05"
          aria-controls="navbarsExample05" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExample05">
          <ul class="navbar-nav pl-md-5">
            <li class="nav-item">
              <a class="nav-link" id="otherfonts" href="project.html">Project Summary</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="otherfonts" href="Visualisations.html">Key Data Visualisations</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="otherfonts" href="questions.html">Injury Predictor</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="otherfonts" href="about.html">About Us</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid"></div>
    <style>
      body {

        background: url('static/images/backgroundtrucks.jpg') no-repeat center center fixed;
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
      }
    </style>
    <div class="box_project">
      <h1 id="otherfontsproject">Project Intent and Purpose </h1>

      <p id="otherpara2fonts">We want to develop a series of visualisations depicting elements of the incident data
        within the US, then create a number of Machine Learning models to allow us to predict (hopefully with some
        certaintly...) a number
        of future scenario's, based on the overall incident data.<br>

      <p id="otherpara2fonts">The Models will all use the 'Sex', 'Age', 'Occupation' and 'Operational Process' column
        data which will be
        grouped (into smaller number of values to simplify the data model). The website will require require the end
        user to select a value for their future, incoming role, then the site will predict:<br><br>

        1. The 'Activity' the person will most likely be injured doing.<br>
        2. The 'Body Part Injured' of the person that will be injured.<br>
        3. The 'Nature of Injury' that will be incurred.<br>
        4. The 'Source of Injury' that will cause the injury.<br><br>

        These will all be shown to the visitor as fields on the Website.<br><br></p>

      <h1 id="otherfontsproject">Project Technical Summary</h1>
      <h3 id="otherfontsproject2">1. Data Preparation:</h3>
      <p id="otherpara2fonts">- Extracted the raw data from <a href="https://www.cdc.gov/niosh/mining/data/">US CDC
          Website</a> and to download our complete (unedited) dataset <a
          href="https://grantnickproject3.s3.ap-southeast-2.amazonaws.com/incident_data.csv">click here</a>.<br>
        - Complete Significant Data Cleanup and Grouping as required.<br>
        - Identify the 'target' data for our Machine Learning Models.<br>
        - Identify the output 'results' that we want to present on the website - "Import Data to Postgress".<br><br></p>

      <h3 id="otherfontsproject2">2. Database/Hosting:</h3>
      <p id="otherpara2fonts">- Created the RDS Server to house the Postgress DB.<br>
        - Create the S3 Bucket to store the incident file.<br>
        - Upload the incident data file to the existing data into the S3 bucket.<br>
        - Create a Heroku Instance and connect to GitHub Repo.<br>
        - Deploy the Heroku Website <a href="https://grantnickproj3.herokuapp.com/">Our Project Link</a>.<br><br></p>

      <h3 id="otherfontsproject2">3. Data Migration and ETL:</h3>
      <p id="otherpara2fonts">- Complete significant data transformation initial incident file.<br>
        - Push clean incident data into the Postgress DB.<br><br></p>

      <h3 id="otherfontsproject2">4. Initial Visualisations:</h3>
      <p id="otherpara2fonts">- Connect an export of the 'clean' incident data to Tableau Public to create required
        visualisations.<br>
        - Save these visualisations to the repo.<br><br>

        The Key Visualisations we selected includes:<br>
        1. 'Injury Counts By Age Group'<br>
        2. 'Worst Performing US Safety States'<br>
        3. 'The Most Dangerous Resources'<br>
        4. 'The Most Dangerous Occupations'<br>
        5. 'Total Injuries vs Days Lost'<br>
        6. 'The Most Injured Body Part'<br><br></p>

      <h3 id="otherfontsproject2">5. Machine Learning:</h3>
      <p id="otherpara2fonts">for the Machine Learning element of our project we wanted to focus on a predictive model
        (Random Forrests) in
        which we could get a person to enter some basic personal details, then a model will be able to predict the most
        likely scenarios for injuries that they may incur during their work life.<br><br>

        In orer to do this, we selected the following columns to create our model:<br>
        1. 'Sex' (Female/Male)<br>
        2. 'Age' (Grouped by Decades)<br>
        3. 'Occupation' (Grouped Data into General Occupation Types that we determined)<br>
        4. 'Operational Process" (Grouped Data for the Workplace that we determined)<br><br>

        The machine learning model will then use the related incident details selected to predict the outcome based on
        the previous incident data.<br><br>

        Overall, we did find variance between the 'accuracy' of the models, based on the number of output criteria the
        model has to predict from.<br><br>

        Our Models Predict the following:<br>
        1. 'Nature of Injury' - Overall Model Accuracy: 30.0% (Possible Outcomes: 31 options)<br>
        2. 'Injured Body Part' - Overall Model Accuracy: 24.9% (Possible Oucomes: 8 options)<br>
        3. 'Source of Injury' - Overall Model Accuracy: 13.9% (Possible Outcomes: 107 options)<br>
        4. 'Activity' - Overall Model Accuracy: 22.2% (Possible Outcomes: 82 options)<br><br>

        Overall we have 5,325 incident in our database. Once the models were trained and finalised, we exported the data
        models using the 'pickle' to separate files, so
        we could import the models into our flask app, to make the predictions to our submitted data.<br><br></p>

      <h3 id="otherfontsproject2">6. app.py and app.js Functions:</h3>
      <p id="otherpara2fonts">There is a sequential process which is occuring to make our data model function as
        experienced, as follows:<br><br>

        1. 'app.py' renders all of the webiste templates - then we get to the 'questions.html' page.<br>
        2. 'app.js' creates all of the drop down boxes and values, then once the user selects their data and clicks the
        'Get my Predictions' button.<br>
        3. Within the 'app.js file, there are mapped out options for all possible values, so that the app stores the
        binary code for each option (based on the selection) and collates it.<br>
        4. A concatenated text string is created and used to navigate to the 'Answer.html' page.<br>
        5. During this process, the submitted information is reverted to 'app.py', reconverted to align with our data
        model extract (which allows our machine learning to function).<br>
        6. We now have a single text string (which aligns with the structure of our data model - for example
        'rf.predict([[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0]])'.<br>
        6. Within 'app.py', we import the pickled files (containing the trained data model), and using the model, call
        it to predict a value for our user submitted values against our models.<br>
        7. We store the results in the return value to present them during the render_template process, which allows us
        to call them and present them in 'Answer.html', which we can all see.<br><br></p>

      <h3 id="otherfontsproject2">7. HTML Pages:</h3>
      <p id="otherpara2fonts">There are currently 5 pages in our site:<br>
        - Our Home Page - <a href="https://grantnickproj3.herokuapp.com/">Link</a><br>
        - Project Summary (this page) - <a href="https://grantnickproj3.herokuapp.com/project.html">Link</a><br>
        - Key Data Visualisations - <a href="https://grantnickproj3.herokuapp.com/Visualisations.html">Link</a><br>
        - Employee Questions - <a href="https://grantnickproj3.herokuapp.com/questions.html">Link</a><br>
        - Employee Answers - Note: Link will change depending on selection - <a
          href="https://grantnickproj3.herokuapp.com/Answer=Male=Under%2020=Apprentice%20or%20Trainee=Crushing%20or%20Processing">Example
          Link</a><br><br></p>

      <h3 id="otherfontsproject2">8. Presentation:</h3>
      <p id="otherpara2fonts">The last element of our project is our presentation. This can be found <a
          href="https://grantnickproject3.s3.ap-southeast-2.amazonaws.com/Project+3.pptx">here...</a><br><br></p>

      <h1 id="otherfontsproject">Observations, Limitations and Potential Enhancements to Model</h1>
      <h3 id="otherfontsproject2">Observations and Limitations:</h3>
      <p id="otherpara2fonts">
        What we set out to achieve (creating a predictive model based upon selected critieria) has been successful.
        However, we both learned a critical limitation to the model that any person referring to this model needs to
        understand.<br><br>

        The model uses previously recorded incident data to make a prediction and although we have a large amount of
        data, the more filters, or additional parameters you add to the model, the smaller the dataset is to make a
        prediction.<br><br></p>

      <table>
        <tr>
          <th>Age Group</th>
          <th>Number Incidents</th>
          <th>% of Total</th>
        </tr>
        <tr>
          <td>Less Than 20</td>
          <td>56</td>
          <td>1.1%</td>
        </tr>
        <tr>
          <td>20 - 29</td>
          <td>1,061</td>
          <td>21.6%</td>
        </tr>
        <tr>
          <td>30 - 39</td>
          <td>1,275</td>
          <td>26.0%</td>
        </tr>
        <tr>
          <td>40 - 49</td>
          <td>1,091</td>
          <td>22.2%</td>
        </tr>
        <tr>
          <td>50 - 59</td>
          <td>951</td>
          <td>19.4%</td>
        </tr>
        <tr>
          <td>60 - 69</td>
          <td>457</td>
          <td>9.3%</td>
        </tr>
        <tr>
          <td>70 - 79</td>
          <td>13</td>
          <td>0.3%</td>
        </tr>
        <tr>
          <td>80 - 89</td>
          <td>4</td>
          <td>0.1%</td>
        </tr>
        <tr>
          <td>Total Incidents</td>
          <td>4,908</td>
          <td></td>
        </tr>
      </table><br>

      <p id="otherpara2fonts">For example below, using only age, if we were trying to predict an outcome, selecting the
        age group of '80 - 89'
        will only give the model 4 incidents to make a prediction.<br><br>

        On those 4 values, depending on the other selected criteria, the potential for an 'innacurate' prediction gets
        higher, as there limited data for the model to predict.

        Considering this, the prediction model can be easily manipulated if have small numbers of outlying data and
        needs to be considering accordingly.<br><br></p>

      <h3 id="otherfontsproject2">Potential Enhancements to Model:</h3>
      <p id="otherpara2fonts">
        There were a number of areas that we feel could improve the model:<br>
        - As per point above, we could consider focusing on groupings, pershaps consolidating or excluding outlier
        data.<br>
        - Add more models and/or amend the criteria for selection. We wanted it to be a logical assessment for a new
        employee, but there could be other varaitions that we could have used, which may result in more accurate
        predictions.<br>
        - More model refinement - to group more of the options for the 'Source of Injury' and 'Activity' fields - as a
        smaller number of options would likely improve the accuracy of the model.<br>
        - Collate More Data - As this model is reliant on data, some of the more obscure occupations/operations end up
        with less options, therefore the accuract of the model is reduced.</p><br><br>
    </div>

    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="static/js/app.js"></script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"></script>

</body>

</html>